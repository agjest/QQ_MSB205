<!DOCTYPE html>
<html lang="en"><head>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.0.36">

  <meta name="author" content="Arnstein Gjestland">
  <title>MSB205 - Maps and Projections 2</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
  <link rel="stylesheet" href="../../../site_libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Maps and Projections 2</h1>
  <p class="subtitle">Projections</p>
  <p class="author">Arnstein Gjestland</p>
  <p class="institute">HVL</p>
  <p class="date">Spring 2021 (revised autumn 2022)</p>
</section>

<section class="slide level2">

<div class="cell">

</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>HgsdOgOmegn <span class="sc">%&gt;%</span> </span>
<span id="cb1-2"><a href="#cb1-2"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> knavn))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-2-1.png" width="960" class="r-stretch"></section>
<section id="standard-projections-for-norway" class="slide level2">
<h2>Standard projections for Norway</h2>
<p><a href="https://www.kartverket.no/globalassets/til-lands/euref89_ntm_beskrivelse.pdf">Standard projections for Norway</a></p>
<p><a href="https://epsg.io/6172">https://epsg.io/</a></p>
<blockquote>
<p>EUREF89 UTM (Universal Transversal Mercator-projeksjon) er i løpet av 1. halvår 2009 innført som offisielt datum og projeksjon i alle landets kommuner. Innføringen av EUREF89 har gitt oss et moderne, homogent og nøyaktig geodetisk grunnlag som for de fleste praktiske formål kan ansees som feilfritt. (Kilde: https://www.kartverket.no/globalassets/til-lands/euref89_ntm_beskrivelse.pdf)</p>
</blockquote>
</section>
<section id="standard-projections-for-norway-cont." class="slide level2">
<h2>Standard projections for Norway cont.</h2>
<ul>
<li class="fragment">EPSG:5972 ETRS89 / UTM zone 32 + NN2000 height (Sør Norge, Norway - onshore - between 6°E and 12°E.)</li>
<li class="fragment">EPSG:5973 ETRS89 / UTM zone 33 + NN2000 height (East Hedemark, Trøndelag-Troms, Norway - onshore - between 12°E and 18°E.)</li>
<li class="fragment">EPSG:5975 ETRS89 / UTM zone 35 + NN2000 height (Finnmark, Norway - onshore - between 24°E and 30°E.)</li>
<li class="fragment">EUREF89 er det offisielle geodetiske datumet i Norge. Internasjonalt brukes navnet European Terrestrial Reference System 1989 (ETRS89) om samme datum. (Kilde: https://no.wikipedia.org/wiki/EUREF89)</li>
<li class="fragment">ED50: ED50 er ei regional referanseramme (geodetisk datum) som dekker Europa. ED50 har vore tilgjengeleg sidan 1950, og Noregs hovudkartserie i målestokk 1 : 50000, N50 (tidlegare M711) brukte tidlegare denne referanseramma. No blir N50-serien gjeven ut med referanseramme EUREF89. (Kilde: https://www.kartverket.no/til-lands/posisjon/referanserammer-for-noreg)</li>
</ul>
</section>
<section id="standard-projections-for-norway-cont.-1" class="slide level2">
<h2>Standard projections for Norway cont.</h2>
<ul>
<li class="fragment">NN2000, <em>vertikalt datum</em>, offisielt høydesystem for Norge, Sverige og Finland. I nyere kart og publikasjoner er høyde over havet oppgitt i NN2000.Også kjent som normalnull 2000. (Kilde:https://snl.no/NN2000)</li>
<li class="fragment">Geoide er det teoretiske nivået havoverflaten ville ligget på hvis vi trekker fra effekter av tidevann, havstrømmer og bølger. Geoiden påvirkes av jordas gravitasjonsfelt, og dette er ikke det samme over alt. Geoiden er et viktig utgangspunkt for høydemålinger. (Kilde: https://snl.no/geoide)</li>
<li class="fragment">Et <em>horisontalt datum</em> inneholder parametre (størrelse og flattrykning) for en jordellipsoide og dens plassering i forhold til jordkroppen. Det punktet som forankrer koordinatsystemet til jordkroppen kalles fundamentalpunktet. (Kilde:https://snl.no/geodetisk_datum)</li>
</ul>
</section>
<section id="previous-norwegian-standards" class="slide level2">
<h2>Previous Norwegian “standards”</h2>
<p>Ask <code>rgdal</code>.</p>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-3_4658e06f91fcd1e26dbff9e9f4829d50">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># rgdal knows datums</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>ngo48 <span class="ot">&lt;-</span> <span class="fu">make_EPSG</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2-3"><a href="#cb2-3"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(note, <span class="st">'NGO 1948'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>ngo48 <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">select</span>(code, note)</span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a>ngo48 <span class="sc">%&gt;%</span> </span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="fu">select</span>(prj4)</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a>ngo48 <span class="sc">%&gt;%</span> </span>
<span id="cb3-8"><a href="#cb3-8"></a>  <span class="fu">select</span>(code, prj_method)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="previous-norwegian-standards-cont." class="slide level2">
<h2>Previous Norwegian “standards” cont.</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    code                            note
1   4273                        NGO 1948
2   4817                 NGO 1948 (Oslo)
3  27391    NGO 1948 (Oslo) / NGO zone I
4  27392   NGO 1948 (Oslo) / NGO zone II
5  27393  NGO 1948 (Oslo) / NGO zone III
6  27394   NGO 1948 (Oslo) / NGO zone IV
7  27395    NGO 1948 (Oslo) / NGO zone V
8  27396   NGO 1948 (Oslo) / NGO zone VI
9  27397  NGO 1948 (Oslo) / NGO zone VII
10 27398 NGO 1948 (Oslo) / NGO zone VIII</code></pre>
</div>
</div>
</section>
<section id="previous-norwegian-standards-cont.-1" class="slide level2">
<h2>Previous Norwegian “standards” cont.</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                                                                                                                                    prj4
1                                                                        +proj=longlat +a=6377492.018 +rf=299.1528128 +no_defs +type=crs
2                                                               +proj=longlat +a=6377492.018 +rf=299.1528128 +pm=oslo +no_defs +type=crs
3  +proj=tmerc +lat_0=58 +lon_0=-4.66666666666667 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +rf=299.1528128 +pm=oslo +units=m +no_defs +type=crs
4  +proj=tmerc +lat_0=58 +lon_0=-2.33333333333333 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +rf=299.1528128 +pm=oslo +units=m +no_defs +type=crs
5                  +proj=tmerc +lat_0=58 +lon_0=0 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +rf=299.1528128 +pm=oslo +units=m +no_defs +type=crs
6                +proj=tmerc +lat_0=58 +lon_0=2.5 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +rf=299.1528128 +pm=oslo +units=m +no_defs +type=crs
7   +proj=tmerc +lat_0=58 +lon_0=6.16666666666667 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +rf=299.1528128 +pm=oslo +units=m +no_defs +type=crs
8   +proj=tmerc +lat_0=58 +lon_0=10.1666666666667 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +rf=299.1528128 +pm=oslo +units=m +no_defs +type=crs
9   +proj=tmerc +lat_0=58 +lon_0=14.1666666666667 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +rf=299.1528128 +pm=oslo +units=m +no_defs +type=crs
10  +proj=tmerc +lat_0=58 +lon_0=18.3333333333333 +k=1 +x_0=0 +y_0=0 +a=6377492.018 +rf=299.1528128 +pm=oslo +units=m +no_defs +type=crs</code></pre>
</div>
</div>
</section>
<section id="previous-norwegian-standards-cont.-2" class="slide level2">
<h2>Previous Norwegian “standards” cont.</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    code          prj_method
1   4273              (null)
2   4817              (null)
3  27391 Transverse Mercator
4  27392 Transverse Mercator
5  27393 Transverse Mercator
6  27394 Transverse Mercator
7  27395 Transverse Mercator
8  27396 Transverse Mercator
9  27397 Transverse Mercator
10 27398 Transverse Mercator</code></pre>
</div>
</div>
</section>
<section id="previous-norwegian-standards-cont.-3" class="slide level2">
<h2>Previous Norwegian “standards” cont.</h2>
<ul>
<li class="fragment">NGO1948 er et nasjonalt norsk geodetisk datum og koordinatsystem, som ble brukt fram til 2009.Fundamentalpunktet er i Observatoriet i Oslo.</li>
<li class="fragment">For NGO-48 er det Oslo gamle observatorium som er 0. (http://www.milvang.no/gps/gpsconv/gpsconv.html).</li>
<li class="fragment">Virker som det er litt forvirring rundt dette, SNL viser til Oslo solobservatorium som fundamentalpunktet.</li>
</ul>
</section>
<section id="simplify" class="slide level2">
<h2>Simplify</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-8_bb9b74fd7582dac28976349db794fc26">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># cache: true so that we don't simplify multiple times</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>HgsdOgOmegn <span class="ot">&lt;-</span> HgsdOgOmegn <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="co">#simplify it</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">ms_simplify</span>(</span>
<span id="cb7-5"><a href="#cb7-5"></a>    <span class="at">keep =</span> <span class="fl">0.05</span>, </span>
<span id="cb7-6"><a href="#cb7-6"></a>    <span class="at">keep_shapes =</span> <span class="cn">TRUE</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="projected" class="slide level2">
<h2>Projected</h2>
<div class="columns">
<div class="column" style="width:35%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># axes order NOT according </span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co"># to authority</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="fu">st_axis_order</span>(<span class="cn">FALSE</span>)</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a>pHgsd <span class="ot">&lt;-</span> HgsdOgOmegn <span class="sc">%&gt;%</span> </span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="fu">select</span>(knavn) <span class="sc">%&gt;%</span> </span>
<span id="cb8-7"><a href="#cb8-7"></a>  <span class="fu">st_transform</span>(<span class="st">'EPSG:5972'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-8"><a href="#cb8-8"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb8-9"><a href="#cb8-9"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> knavn)) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10"></a>  <span class="co"># to get rid of degree on axes</span></span>
<span id="cb8-11"><a href="#cb8-11"></a>  <span class="fu">coord_sf</span>(<span class="at">datum =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:65%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-10-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="same-map-with-tmap" class="slide level2">
<h2>Same map with tmap</h2>
<ul>
<li class="fragment">Perhaps easier with tmap</li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-11_5972337175b92a0f60b82b330529a507">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># Don't respect authorities</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="fu">st_axis_order</span>(<span class="cn">FALSE</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a></span>
<span id="cb9-4"><a href="#cb9-4"></a>pHgsd_tm <span class="ot">&lt;-</span> HgsdOgOmegn <span class="sc">%&gt;%</span> </span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="fu">select</span>(knavn) <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="fu">st_transform</span>(<span class="st">'EPSG:5972'</span>) <span class="sc">%&gt;%</span> <span class="co">#&lt;&lt;</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="fu">tm_shape</span>() <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="fu">tm_polygons</span>(<span class="st">"knavn"</span>) <span class="sc">+</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>  <span class="fu">tm_grid</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-12-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="utm-fra-wikipedia.org" class="slide level2">
<h2>UTM (fra wikipedia.org)</h2>
<ul>
<li class="fragment"><p><a href="https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system#/media/File:Universal_Transverse_Mercator_zones.svg">UTM zones</a></p></li>
<li class="fragment"><p>Note! 31V, 32V, 31X, 33C, 35X og 37X</p></li>
<li class="fragment"><p>Else 6° wide, 8° high</p></li>
<li class="fragment"><p>The scale factor at the central meridian is specified to be 0.9996 of true scale</p></li>
<li class="fragment"><p>The Mercator projection is conformal, which means it preserves angles and therefore shapes across small regions. However, it distorts distance and area.</p></li>
<li class="fragment"><p>Covers 80°S to 84°N</p></li>
</ul>
</section>
<section id="utm-fra-wikipedia.org-cont." class="slide level2">
<h2>UTM (fra wikipedia.org) cont.</h2>
<ul>
<li class="fragment">Latitude bands not strictly part of UTM
<ul>
<li class="fragment">runs from C to X (excluding I and O)</li>
<li class="fragment">A, B Antarctica and Y, Z Arctic</li>
</ul></li>
<li class="fragment">Vertical axes, meters from equator</li>
<li class="fragment">Horizontal axes
<ul>
<li class="fragment">Mid Meridian of a zone at 500.000</li>
<li class="fragment">498.500 means 1.500 meters west of center meridian of zone</li>
<li class="fragment">507.036 means 7036 meters east of center meridian of zone</li>
<li class="fragment">if both obs. on same latitude the distance between them is 507.036 - 498.500 = 8526 meters</li>
<li class="fragment">if not same latitude, use pytagoras</li>
</ul></li>
<li class="fragment">Note! Horizontal axis neither starts at 0 nor ends at 1.000.000</li>
</ul>
</section>
<section id="norske-fylker-longlat-4326-and-projected" class="slide level2">
<h2>Norske fylker long/lat 4326 and projected</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-13_b46526d189522748fddfa210d695a9f6">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>Norge_fylke <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">"Norge_fylke.gpkg"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="fu">ms_simplify</span>(</span>
<span id="cb10-3"><a href="#cb10-3"></a>    <span class="at">keep =</span> <span class="fl">0.001</span>,</span>
<span id="cb10-4"><a href="#cb10-4"></a>    <span class="at">keep_shapes =</span> <span class="cn">TRUE</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>p1 <span class="ot">&lt;-</span> Norge_fylke <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="fu">select</span>(fnr) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="fu">tm_shape</span>() <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="fu">tm_fill</span>() <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="fu">tm_borders</span>() <span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="fu">tm_graticules</span>() <span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>  <span class="fu">tm_layout</span>(<span class="at">title =</span> <span class="st">"EPSG:4326 WGS 84"</span>) <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>  <span class="fu">tm_compass</span>(</span>
<span id="cb11-9"><a href="#cb11-9"></a>    <span class="at">type =</span> <span class="st">"8star"</span>,</span>
<span id="cb11-10"><a href="#cb11-10"></a>    <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"top"</span>)</span>
<span id="cb11-11"><a href="#cb11-11"></a>    ) <span class="sc">+</span></span>
<span id="cb11-12"><a href="#cb11-12"></a>  <span class="fu">tm_scale_bar</span>(</span>
<span id="cb11-13"><a href="#cb11-13"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>), </span>
<span id="cb11-14"><a href="#cb11-14"></a>    <span class="at">text.size =</span> <span class="dv">1</span></span>
<span id="cb11-15"><a href="#cb11-15"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>p2 <span class="ot">&lt;-</span> Norge_fylke <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="fu">select</span>(fnr) <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="fu">st_transform</span>(<span class="dv">5972</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="fu">tm_shape</span>() <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>  <span class="fu">tm_fill</span>() <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6"></a>  <span class="fu">tm_grid</span>() <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>  <span class="fu">tm_borders</span>() <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="fu">tm_layout</span>(</span>
<span id="cb12-9"><a href="#cb12-9"></a>    <span class="at">title =</span> <span class="st">"EPSG:5972</span><span class="sc">\n</span></span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="st">    ETRS89 / UTM zone 32 + NN2000 height"</span>,</span>
<span id="cb12-11"><a href="#cb12-11"></a>    <span class="at">scale =</span> <span class="dv">1</span></span>
<span id="cb12-12"><a href="#cb12-12"></a>    ) <span class="sc">+</span></span>
<span id="cb12-13"><a href="#cb12-13"></a>  <span class="fu">tm_compass</span>(</span>
<span id="cb12-14"><a href="#cb12-14"></a>    <span class="at">type =</span> <span class="st">"8star"</span>,</span>
<span id="cb12-15"><a href="#cb12-15"></a>    <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"top"</span>)</span>
<span id="cb12-16"><a href="#cb12-16"></a>    ) <span class="sc">+</span></span>
<span id="cb12-17"><a href="#cb12-17"></a>  <span class="fu">tm_scale_bar</span>(</span>
<span id="cb12-18"><a href="#cb12-18"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>),</span>
<span id="cb12-19"><a href="#cb12-19"></a>    <span class="at">text.size =</span> <span class="dv">1</span></span>
<span id="cb12-20"><a href="#cb12-20"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</section>
<section id="norske-fylker-longlat-wgs-84-epsg-4326-cont." class="slide level2">
<h2>Norske fylker long/lat WGS 84 EPSG 4326 cont.</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>p3 <span class="ot">&lt;-</span> Norge_fylke <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">select</span>(fnr) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="fu">st_transform</span>(<span class="dv">5973</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="fu">tm_shape</span>() <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="fu">tm_fill</span>() <span class="sc">+</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="fu">tm_grid</span>() <span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>  <span class="fu">tm_borders</span>() <span class="sc">+</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>  <span class="fu">tm_layout</span>(</span>
<span id="cb13-9"><a href="#cb13-9"></a>    <span class="at">title =</span> <span class="st">"EPSG:5973</span><span class="sc">\n</span></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="st">    ETRS89 / UTM zone 33 + NN2000 height"</span></span>
<span id="cb13-11"><a href="#cb13-11"></a>    ) <span class="sc">+</span></span>
<span id="cb13-12"><a href="#cb13-12"></a>  <span class="fu">tm_compass</span>(</span>
<span id="cb13-13"><a href="#cb13-13"></a>    <span class="at">type =</span> <span class="st">"8star"</span>, </span>
<span id="cb13-14"><a href="#cb13-14"></a>    <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"top"</span>)</span>
<span id="cb13-15"><a href="#cb13-15"></a>    ) <span class="sc">+</span></span>
<span id="cb13-16"><a href="#cb13-16"></a>  <span class="fu">tm_scale_bar</span>(</span>
<span id="cb13-17"><a href="#cb13-17"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>),</span>
<span id="cb13-18"><a href="#cb13-18"></a>    <span class="at">text.size =</span> <span class="dv">1</span></span>
<span id="cb13-19"><a href="#cb13-19"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>p4 <span class="ot">&lt;-</span> Norge_fylke <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="fu">select</span>(fnr) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="fu">st_transform</span>(<span class="dv">5975</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="fu">tm_shape</span>() <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="fu">tm_fill</span>() <span class="sc">+</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>  <span class="fu">tm_grid</span>() <span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>  <span class="fu">tm_borders</span>() <span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>  <span class="fu">tm_layout</span>(</span>
<span id="cb14-9"><a href="#cb14-9"></a>    <span class="at">title =</span> <span class="st">"EPSG:5975</span><span class="sc">\n</span><span class="st"> </span></span>
<span id="cb14-10"><a href="#cb14-10"></a><span class="st">    ETRS89 / UTM zone 35 + NN2000 height"</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>    ) <span class="sc">+</span></span>
<span id="cb14-12"><a href="#cb14-12"></a>  <span class="fu">tm_compass</span>(</span>
<span id="cb14-13"><a href="#cb14-13"></a>    <span class="at">type =</span> <span class="st">"8star"</span>, </span>
<span id="cb14-14"><a href="#cb14-14"></a>    <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"top"</span>)) <span class="sc">+</span></span>
<span id="cb14-15"><a href="#cb14-15"></a>  <span class="fu">tm_scale_bar</span>(</span>
<span id="cb14-16"><a href="#cb14-16"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>), </span>
<span id="cb14-17"><a href="#cb14-17"></a>    <span class="at">text.size =</span> <span class="dv">1</span></span>
<span id="cb14-18"><a href="#cb14-18"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</section>
<section id="result" class="slide level2">
<h2>Result</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">tmap_arrange</span>(p1, p2, p3, p4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-18-1.png" width="960" class="r-stretch"></section>
<section id="southern-norway" class="slide level2">
<h2>Southern Norway</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-19_516eec7a847966bb8d993c3cfe0330bf">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># query="SELECT * FROM Norge_fylke WHERE navn </span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="co"># IN ('Østfold', 'Akershus', 'Oslo', 'Hedmark', 'Oppland', </span></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co"># 'Buskerud', 'Vestfold', 'Telemark', 'Aust-Agder', </span></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="co"># 'Vest-Agder', 'Rogaland', 'Hordaland', 'Sogn og Fjordane', </span></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co"># 'Møre og Romsdal', 'Sør-Trøndelag')")</span></span>
<span id="cb16-6"><a href="#cb16-6"></a><span class="co"># OR</span></span>
<span id="cb16-7"><a href="#cb16-7"></a>Norge_fylke_syd <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(</span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="st">"Norge_fylke.gpkg"</span>,</span>
<span id="cb16-9"><a href="#cb16-9"></a>  <span class="at">query =</span> <span class="st">"SELECT * FROM Norge_fylke WHERE navn </span></span>
<span id="cb16-10"><a href="#cb16-10"></a><span class="st">  NOT IN ('Nord-Trøndelag', 'Nordland',</span></span>
<span id="cb16-11"><a href="#cb16-11"></a><span class="st">  'Troms', 'Finnmark')"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-12"><a href="#cb16-12"></a>  <span class="co">#check size</span></span>
<span id="cb16-13"><a href="#cb16-13"></a>  <span class="fu">ms_simplify</span>(</span>
<span id="cb16-14"><a href="#cb16-14"></a>    <span class="at">keep =</span> <span class="fl">0.01</span>, </span>
<span id="cb16-15"><a href="#cb16-15"></a>    <span class="at">keep_shapes =</span> <span class="cn">TRUE</span></span>
<span id="cb16-16"><a href="#cb16-16"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>p5 <span class="ot">&lt;-</span> Norge_fylke_syd <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="fu">select</span>(fnr) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="fu">tm_shape</span>() <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="fu">tm_fill</span>() <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>  <span class="fu">tm_borders</span>() <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6"></a>  <span class="fu">tm_graticules</span>() <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>  <span class="fu">tm_layout</span>(</span>
<span id="cb17-8"><a href="#cb17-8"></a>    <span class="at">title =</span> <span class="st">"EPSG:4326 WGS 84"</span>,</span>
<span id="cb17-9"><a href="#cb17-9"></a>    <span class="at">scale =</span> <span class="dv">1</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>    ) <span class="sc">+</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="fu">tm_compass</span>(</span>
<span id="cb17-12"><a href="#cb17-12"></a>    <span class="at">type =</span> <span class="st">"8star"</span>, </span>
<span id="cb17-13"><a href="#cb17-13"></a>    <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"top"</span>)</span>
<span id="cb17-14"><a href="#cb17-14"></a>    ) <span class="sc">+</span></span>
<span id="cb17-15"><a href="#cb17-15"></a>  <span class="fu">tm_scale_bar</span>(</span>
<span id="cb17-16"><a href="#cb17-16"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>),</span>
<span id="cb17-17"><a href="#cb17-17"></a>    <span class="at">text.size =</span> <span class="dv">1</span></span>
<span id="cb17-18"><a href="#cb17-18"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>p6 <span class="ot">&lt;-</span> Norge_fylke_syd <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="fu">select</span>(fnr) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="fu">st_transform</span>(<span class="dv">5972</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-4"><a href="#cb18-4"></a>  <span class="fu">tm_shape</span>() <span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="fu">tm_fill</span>() <span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>  <span class="fu">tm_borders</span>() <span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7"></a>  <span class="fu">tm_layout</span>(</span>
<span id="cb18-8"><a href="#cb18-8"></a>    <span class="at">title =</span> <span class="st">"EPSG:5972</span><span class="sc">\n</span></span>
<span id="cb18-9"><a href="#cb18-9"></a><span class="st">    ETRS89 / UTM zone 32 + NN2000 height"</span>,</span>
<span id="cb18-10"><a href="#cb18-10"></a>    <span class="at">scale =</span> <span class="dv">1</span></span>
<span id="cb18-11"><a href="#cb18-11"></a>    ) <span class="sc">+</span></span>
<span id="cb18-12"><a href="#cb18-12"></a>  <span class="fu">tm_grid</span>() <span class="sc">+</span></span>
<span id="cb18-13"><a href="#cb18-13"></a>  <span class="fu">tm_compass</span>(</span>
<span id="cb18-14"><a href="#cb18-14"></a>    <span class="at">type =</span> <span class="st">"8star"</span>, </span>
<span id="cb18-15"><a href="#cb18-15"></a>    <span class="at">position =</span> <span class="fu">c</span>(<span class="st">"left"</span>, <span class="st">"top"</span>)</span>
<span id="cb18-16"><a href="#cb18-16"></a>    ) <span class="sc">+</span></span>
<span id="cb18-17"><a href="#cb18-17"></a>  <span class="fu">tm_scale_bar</span>(</span>
<span id="cb18-18"><a href="#cb18-18"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">200</span>), </span>
<span id="cb18-19"><a href="#cb18-19"></a>    <span class="at">text.size =</span> <span class="dv">1</span></span>
<span id="cb18-20"><a href="#cb18-20"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</section>
<section id="result-1" class="slide level2">
<h2>Result</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="fu">tmap_arrange</span>(p5, p6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-22-1.png" width="960" class="r-stretch"></section>
<section id="result-cont." class="slide level2">
<h2>Result cont.</h2>
<ul>
<li class="fragment"><p>UTM</p>
<ul>
<li class="fragment"><p>North: Meters from equator</p></li>
<li class="fragment"><p>East: Offset from the zone central meridian (set at 500000).</p>
<ul>
<li class="fragment">Width is 6° longitude. UTM eastings range from about 167000 meters to 833000 meters at the equator (<a href="https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system">wikipedia.org</a>).</li>
</ul></li>
</ul></li>
<li class="fragment"><p>One exception zone UTM 32V is 9° longitude wide and UTM 31V is 3°.</p></li>
</ul>
</section>
<section id="utm-europe-map" class="slide level2">
<h2>UTM Europe map</h2>

<img data-src="index_insertimage_1.png" alt="Plot title." class="r-stretch quarto-figure-center"><p class="caption">UTM Europe (in Public Domain, taken from <a href="https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system">wikipedia</a>).</p></section>
<section id="calculations-rogaland" class="slide level2">
<h2>Calculations Rogaland</h2>
<ul>
<li class="fragment">NB! We <strong>MUST</strong> use <strong>projected</strong> map for area calculations.</li>
</ul>
<div class="fragment">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># Rogaland</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>Norge_fylke_syd <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="fu">select</span>(fnr) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>  <span class="fu">filter</span>(fnr <span class="sc">==</span> <span class="st">'11'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-5"><a href="#cb20-5"></a>  <span class="fu">st_transform</span>(<span class="dv">5972</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>  <span class="fu">st_area</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>9352894903 [m^2]</code></pre>
</div>
</div>
</div>
</section>
<section id="calculations-sør-norge" class="slide level2">
<h2>Calculations Sør-Norge</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Sør-norge</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>Norge_fylke_syd <span class="ot">&lt;-</span> Norge_fylke_syd <span class="sc">%&gt;%</span> </span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">select</span>(fnr, navn) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>  <span class="fu">st_transform</span>(<span class="dv">5972</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>  <span class="fu">mutate</span>(<span class="at">area =</span> <span class="fu">st_area</span>(.))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="calculations-sør-norge-1" class="slide level2">
<h2>Calculations Sør-Norge</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>Norge_fylke_syd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 15 features and 3 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 264035 ymin: 6426820 xmax: 706922.6 ymax: 7145715
Projected CRS: ETRS89 / UTM zone 32N + NN2000 height
# A tibble: 15 × 4
     fnr navn                                                       geom    area
 * &lt;dbl&gt; &lt;chr&gt;                                        &lt;MULTIPOLYGON [m]&gt;   [m^2]
 1     1 Østfold          (((595487.4 6595761, 596740.2 6595909, 597095… 4.12e 9
 2     2 Akershus         (((595487.4 6595761, 595029.5 6598461, 593972… 4.92e 9
 3     3 Oslo             (((589437.3 6649902, 588515.7 6650396, 586785… 4.55e 8
 4     4 Hedmark          (((659121.9 6637088, 658791.5 6637252, 658790… 2.74e10
 5     5 Oppland          (((413559.5 6876136, 413808.8 6878535, 413293… 2.52e10
 6     6 Buskerud         (((574300.1 6617769, 573398.3 6615185, 571043… 1.49e10
 7     7 Vestfold         (((586629.8 6583984, 587328 6584084, 587442.4… 2.18e 9
 8     8 Telemark         (((542483.3 6544783, 543936.8 6543814, 543438… 1.53e10
 9     9 Aust-Agder       (((505409 6510821, 505917.8 6511466, 509148.3… 9.13e 9
10    10 Vest-Agder       (((439175.4 6437828, 440373 6438453, 440749.6… 7.27e 9
11    11 Rogaland         (((350155.9 6464135, 347181.1 6463086, 346582… 9.35e 9
12    12 Hordaland        (((293745.5 6685230, 293180.5 6684306, 291731… 1.54e10
13    14 Sogn og Fjordane (((278642.1 6838708, 277240 6839339, 277530.6… 1.87e10
14    15 Møre og Romsdal  (((407878.4 6954314, 409132.4 6954983, 410557… 1.51e10
15    16 Sør-Trøndelag    (((668566.5 6915299, 667158 6914854, 666246.7… 1.87e10</code></pre>
</div>
</div>
</section>
<section id="calculations-sør-norge-km2" class="slide level2">
<h2>Calculations Sør-Norge (km^2)</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># Sør-norge</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>Norge_fylke_syd <span class="ot">&lt;-</span> Norge_fylke_syd <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="fu">select</span>(fnr, navn) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4"></a>  <span class="fu">st_transform</span>(<span class="dv">5972</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="#cb25-5"></a>  <span class="co"># convert to km^2 via units package</span></span>
<span id="cb25-6"><a href="#cb25-6"></a>  <span class="fu">mutate</span>(<span class="at">area_km2 =</span> <span class="fu">set_units</span>(<span class="fu">st_area</span>(.), km<span class="sc">^</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="calculations-sør-norge-km2-1" class="slide level2">
<h2>Calculations Sør-Norge (km^2)</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>Norge_fylke_syd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 15 features and 3 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 264035 ymin: 6426820 xmax: 706922.6 ymax: 7145715
Projected CRS: ETRS89 / UTM zone 32N + NN2000 height
# A tibble: 15 × 4
     fnr navn                                                       geom area_…¹
 * &lt;dbl&gt; &lt;chr&gt;                                        &lt;MULTIPOLYGON [m]&gt;  [km^2]
 1     1 Østfold          (((595487.4 6595761, 596740.2 6595909, 597095…   4117.
 2     2 Akershus         (((595487.4 6595761, 595029.5 6598461, 593972…   4915.
 3     3 Oslo             (((589437.3 6649902, 588515.7 6650396, 586785…    455.
 4     4 Hedmark          (((659121.9 6637088, 658791.5 6637252, 658790…  27391.
 5     5 Oppland          (((413559.5 6876136, 413808.8 6878535, 413293…  25170.
 6     6 Buskerud         (((574300.1 6617769, 573398.3 6615185, 571043…  14898.
 7     7 Vestfold         (((586629.8 6583984, 587328 6584084, 587442.4…   2181.
 8     8 Telemark         (((542483.3 6544783, 543936.8 6543814, 543438…  15282.
 9     9 Aust-Agder       (((505409 6510821, 505917.8 6511466, 509148.3…   9135.
10    10 Vest-Agder       (((439175.4 6437828, 440373 6438453, 440749.6…   7273.
11    11 Rogaland         (((350155.9 6464135, 347181.1 6463086, 346582…   9353.
12    12 Hordaland        (((293745.5 6685230, 293180.5 6684306, 291731…  15429.
13    14 Sogn og Fjordane (((278642.1 6838708, 277240 6839339, 277530.6…  18665.
14    15 Møre og Romsdal  (((407878.4 6954314, 409132.4 6954983, 410557…  15117.
15    16 Sør-Trøndelag    (((668566.5 6915299, 667158 6914854, 666246.7…  18737.
# … with abbreviated variable name ¹​area_km2</code></pre>
</div>
</div>
</section>
<section id="conclusion" class="slide level2">
<h2>Conclusion</h2>
<p>Norway:</p>
<ul>
<li class="fragment">Use EPSG:4326 (latitude/longitude <strong>or</strong> longitude/latitude ) for geographical coordinates.</li>
</ul>
<div class="fragment">
<p>or</p>
<ul>
<li class="fragment"><p>EPSG:5973 for projected (whole of Norway)</p></li>
<li class="fragment"><p>EPSG:5972 for Southern Norway</p></li>
<li class="fragment"><p>Unit is meters.</p></li>
<li class="fragment"><p>To measure distance or area the map <strong>HAS</strong> to be projected.</p></li>
</ul>
</div>
</section>
<section id="different-projections" class="slide level2">
<h2>Different projections</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># read in world map from rnatrualearth</span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="co"># The option returnclass = "sf" gives us an sf object</span></span>
<span id="cb28-3"><a href="#cb28-3"></a>world_ne <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(</span>
<span id="cb28-4"><a href="#cb28-4"></a>  <span class="at">scale =</span> <span class="st">"medium"</span>, </span>
<span id="cb28-5"><a href="#cb28-5"></a>  <span class="at">returnclass =</span> <span class="st">"sf"</span></span>
<span id="cb28-6"><a href="#cb28-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">class</span>(world_ne)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "sf"         "data.frame"</code></pre>
</div>
</div>
</section>
<section id="the-longitude-latitude-problem" class="slide level2">
<h2>The longitude latitude problem</h2>
<ul>
<li class="fragment">Geographers prefer latitude first, longitude second</li>
<li class="fragment">Data scientists and GIS programmer often use longitude first, latitude second</li>
<li class="fragment">For some projections the axis order <strong>is not</strong> specified</li>
<li class="fragment">For some projections the axis order <strong>is</strong> specified, but often ignored in software</li>
<li class="fragment"><strong>This will give us a lot of problems</strong></li>
</ul>
</section>
<section id="axis-order-epsg4326" class="slide level2">
<h2>Axis order EPSG:4326</h2>

<img data-src="map_and_proj_pres_insertimage_2.png" alt="EPSG:4326" class="r-stretch quarto-figure-center"><p class="caption">EPSG:4326</p><ul>
<li class="fragment">The authorities say latitude first, longitude second</li>
</ul>
</section>
<section id="axis-order" class="slide level2">
<h2>Axis order</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># Default is FALSE</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fu">st_axis_order</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<ul>
<li class="fragment">Obey the authorities</li>
</ul>
<div class="fragment">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">st_axis_order</span>(<span class="at">authority_compliant =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li class="fragment">Set it back to default</li>
</ul>
</div>
<div class="fragment">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">st_axis_order</span>(<span class="at">authority_compliant =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section>
<section id="the-crs-of-world_ne" class="slide level2">
<h2>The crs of world_ne</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">st_crs</span>(world_ne)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Coordinate Reference System:
  User input: +proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0 
  wkt:
BOUNDCRS[
    SOURCECRS[
        GEOGCRS["unknown",
            DATUM["World Geodetic System 1984",
                ELLIPSOID["WGS 84",6378137,298.257223563,
                    LENGTHUNIT["metre",1]],
                ID["EPSG",6326]],
            PRIMEM["Greenwich",0,
                ANGLEUNIT["degree",0.0174532925199433],
                ID["EPSG",8901]],
            CS[ellipsoidal,2],
                AXIS["longitude",east,
                    ORDER[1],
                    ANGLEUNIT["degree",0.0174532925199433,
                        ID["EPSG",9122]]],
                AXIS["latitude",north,
                    ORDER[2],
                    ANGLEUNIT["degree",0.0174532925199433,
                        ID["EPSG",9122]]]]],
    TARGETCRS[
        GEOGCRS["WGS 84",
            DATUM["World Geodetic System 1984",
                ELLIPSOID["WGS 84",6378137,298.257223563,
                    LENGTHUNIT["metre",1]]],
            PRIMEM["Greenwich",0,
                ANGLEUNIT["degree",0.0174532925199433]],
            CS[ellipsoidal,2],
                AXIS["latitude",north,
                    ORDER[1],
                    ANGLEUNIT["degree",0.0174532925199433]],
                AXIS["longitude",east,
                    ORDER[2],
                    ANGLEUNIT["degree",0.0174532925199433]],
            ID["EPSG",4326]]],
    ABRIDGEDTRANSFORMATION["Transformation from unknown to WGS84",
        METHOD["Geocentric translations (geog2D domain)",
            ID["EPSG",9603]],
        PARAMETER["X-axis translation",0,
            ID["EPSG",8605]],
        PARAMETER["Y-axis translation",0,
            ID["EPSG",8606]],
        PARAMETER["Z-axis translation",0,
            ID["EPSG",8607]]]]</code></pre>
</div>
</div>
</section>
<section id="the-crs-of-world_ne-cont." class="slide level2">
<h2>The crs of world_ne cont.</h2>
<ul>
<li class="fragment"><p>In output from <code>st_crs(world_ne)</code>we see that world_ne is in EPSG”,4326</p></li>
<li class="fragment"><p>TARGETRCRS</p>
<ul>
<li class="fragment"><p>AXIS[“latitude”,north, ORDER[1],</p></li>
<li class="fragment"><p>AXIS[“longitude”,east, ORDER[2]</p></li>
</ul></li>
</ul>
</section>
<section id="plot-our-world-map-with-plot.sf-geographical-coordinates" class="slide level2">
<h2>Plot our world map with plot.sf, geographical coordinates</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="co"># Get axis order</span></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="fu">st_axis_order</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="co"># Follow authorities</span></span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="fu">st_axis_order</span>(</span>
<span id="cb39-3"><a href="#cb39-3"></a>  <span class="at">authority_compliant =</span> <span class="cn">TRUE</span></span>
<span id="cb39-4"><a href="#cb39-4"></a>  )</span>
<span id="cb39-5"><a href="#cb39-5"></a></span>
<span id="cb39-6"><a href="#cb39-6"></a>world_ne <span class="sc">%&gt;%</span> </span>
<span id="cb39-7"><a href="#cb39-7"></a>  <span class="co"># Select one of the </span></span>
<span id="cb39-8"><a href="#cb39-8"></a>  <span class="co"># features (variables)</span></span>
<span id="cb39-9"><a href="#cb39-9"></a>  <span class="fu">select</span>(gu_a3) <span class="sc">%&gt;%</span></span>
<span id="cb39-10"><a href="#cb39-10"></a>  <span class="co"># plot with plot.sf</span></span>
<span id="cb39-11"><a href="#cb39-11"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-36-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="plot-our-world-map-with-ggplot-geographical-coordinates" class="slide level2">
<h2>Plot our world map with ggplot, geographical coordinates</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="co"># Get axis order</span></span>
<span id="cb40-2"><a href="#cb40-2"></a><span class="fu">st_axis_order</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="co"># plot with ggplot</span></span>
<span id="cb42-2"><a href="#cb42-2"></a>world_ne <span class="sc">%&gt;%</span> </span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="fu">select</span>(sovereignt) <span class="sc">%&gt;%</span> </span>
<span id="cb42-4"><a href="#cb42-4"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb42-5"><a href="#cb42-5"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb42-6"><a href="#cb42-6"></a>  <span class="fu">coord_sf</span>(<span class="at">expand =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-39-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="epsg3395-mecator" class="slide level2">
<h2>EPSG:3395 mecator</h2>

<img data-src="map_and_proj_pres_insertimage_3.png" alt="EPSG:3395 mecator" class="r-stretch quarto-figure-center"><p class="caption">EPSG:3395 mecator</p><ul>
<li class="fragment">Longitude first, latitude second</li>
</ul>
</section>
<section>
<section id="mecator-ggplot" class="title-slide slide level1 center">
<h1>3395 mecator ggplot</h1>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># Get axis order</span></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="fu">st_axis_order</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>world_ne <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2"></a>  <span class="fu">st_transform</span>(<span class="st">"EPSG:3395"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb45-3"><a href="#cb45-3"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb45-5"><a href="#cb45-5"></a>  <span class="fu">coord_sf</span>(</span>
<span id="cb45-6"><a href="#cb45-6"></a>    <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">12000000</span>, <span class="dv">15000000</span>), </span>
<span id="cb45-7"><a href="#cb45-7"></a>    <span class="at">datum =</span> <span class="fu">st_crs</span>(<span class="dv">3395</span>),</span>
<span id="cb45-8"><a href="#cb45-8"></a>    <span class="at">expand =</span> <span class="cn">FALSE</span></span>
<span id="cb45-9"><a href="#cb45-9"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-42-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="world-behrmann-esri54017-ggplot" class="slide level2">
<h2>World Behrmann ESRI:54017 ggplot</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="co"># Get axis order</span></span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="fu">st_axis_order</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>world_ne <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2"></a>  <span class="fu">st_transform</span>(<span class="st">"ESRI:54017"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb48-3"><a href="#cb48-3"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb48-4"><a href="#cb48-4"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5"></a>  <span class="fu">coord_sf</span>(</span>
<span id="cb48-6"><a href="#cb48-6"></a>    <span class="at">datum =</span> <span class="fu">st_crs</span>(<span class="st">"ESRI:54017"</span>),</span>
<span id="cb48-7"><a href="#cb48-7"></a>    <span class="at">expand =</span> <span class="cn">FALSE</span></span>
<span id="cb48-8"><a href="#cb48-8"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-45-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="wgs-84-pseudo-mercator-spherical-mercator-google-maps-openstreetmap-bing-arcgis-esri" class="slide level2">
<h2>WGS 84 / Pseudo-Mercator – Spherical Mercator, Google Maps, OpenStreetMap, Bing, ArcGIS, ESRI</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="co"># Get axis order</span></span>
<span id="cb49-2"><a href="#cb49-2"></a><span class="fu">st_axis_order</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>world_ne <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2"></a>  <span class="fu">st_transform</span>(<span class="st">"EPSG:3857"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb51-3"><a href="#cb51-3"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb51-4"><a href="#cb51-4"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb51-5"><a href="#cb51-5"></a>  <span class="fu">coord_sf</span>(</span>
<span id="cb51-6"><a href="#cb51-6"></a>    <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">1.3e+07</span>, <span class="fl">2e+07</span>), </span>
<span id="cb51-7"><a href="#cb51-7"></a>    <span class="at">datum =</span> <span class="fu">st_crs</span>(<span class="st">"EPSG:3857"</span>), </span>
<span id="cb51-8"><a href="#cb51-8"></a>    <span class="at">expand =</span> <span class="cn">FALSE</span></span>
<span id="cb51-9"><a href="#cb51-9"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-48-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="world-mollweide-esri-54009" class="slide level2">
<h2>World Mollweide ESRI 54009</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="co"># Get axis order</span></span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="fu">st_axis_order</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>world_ne <span class="sc">%&gt;%</span> </span>
<span id="cb54-2"><a href="#cb54-2"></a>  <span class="fu">st_transform</span>(<span class="st">"ESRI:54009"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="#cb54-3"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4"></a>  <span class="fu">geom_sf</span>() <span class="sc">+</span></span>
<span id="cb54-5"><a href="#cb54-5"></a>  <span class="fu">coord_sf</span>(</span>
<span id="cb54-6"><a href="#cb54-6"></a>    <span class="at">datum =</span> <span class="fu">st_crs</span>(<span class="st">"ESRI:54009"</span>),</span>
<span id="cb54-7"><a href="#cb54-7"></a>    <span class="at">expand =</span> <span class="cn">FALSE</span></span>
<span id="cb54-8"><a href="#cb54-8"></a>    ) <span class="sc">+</span></span>
<span id="cb54-9"><a href="#cb54-9"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"World Mollweide ESRI 54009"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-51-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="section" class="slide level2">
<h2>3035</h2>
<ul>
<li class="fragment">EPSG:3035</li>
<li class="fragment">ETRS89-extended / LAEA Europe</li>
<li class="fragment">Scope: Statistical mapping at all scales and other purposes where true area representation is required.</li>
<li class="fragment">Coordinate system: Cartesian 2D CS. <strong>Axes: northing, easting (Y,X)</strong>. Orientations: north, east. UoM: m.</li>
</ul>
</section>
<section id="section-1" class="slide level2">
<h2>3035</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="co"># Get axis order</span></span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="fu">st_axis_order</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>world_ne <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="fu">select</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb57-3"><a href="#cb57-3"></a>  <span class="fu">st_transform</span>(<span class="dv">3035</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb57-4"><a href="#cb57-4"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb57-5"><a href="#cb57-5"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb57-6"><a href="#cb57-6"></a>  <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-54-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="is-longitude-latitude" class="slide level2">
<h2>3035 is longitude latitude</h2>
<ul>
<li class="fragment">WGS 84 / Pseudo-Mercator</li>
<li class="fragment">The importance of authority_compliant</li>
<li class="fragment">3035 is (latitude, longitude)</li>
<li class="fragment">our map is (longitude, latitude)</li>
<li class="fragment">if we insist to be authority_compliant, we will use longitude value for latitude</li>
<li class="fragment">and latitude value for longitude</li>
<li class="fragment"><strong>unless we swap axis order</strong></li>
</ul>
</section>
<section id="is-longitude-latitude-1" class="slide level2">
<h2>3035 is longitude latitude</h2>
<ul>
<li class="fragment"><code>authority_compliant = TRUE</code> gives an untraditional map</li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">st_axis_order</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="co"># Untraditional map</span></span>
<span id="cb60-2"><a href="#cb60-2"></a><span class="fu">st_axis_order</span>(</span>
<span id="cb60-3"><a href="#cb60-3"></a>  <span class="at">authority_compliant =</span> <span class="cn">TRUE</span></span>
<span id="cb60-4"><a href="#cb60-4"></a>  )</span>
<span id="cb60-5"><a href="#cb60-5"></a>world_ne <span class="sc">%&gt;%</span></span>
<span id="cb60-6"><a href="#cb60-6"></a>  <span class="fu">st_transform</span>(<span class="dv">3035</span>) <span class="sc">%&gt;%</span></span>
<span id="cb60-7"><a href="#cb60-7"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb60-8"><a href="#cb60-8"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb60-9"><a href="#cb60-9"></a>  <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-57-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="is-longitude-latitude-solution-axisswap" class="slide level2">
<h2>3035 is longitude, latitude (solution: axisswap)</h2>
<ul>
<li class="fragment">Swap axis by <code>st_transform</code> and pipeline argument.</li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a><span class="co"># First coordinate interprated as latitude, second as longitude</span></span>
<span id="cb61-2"><a href="#cb61-2"></a><span class="co"># as specified by authorities. But in reality world_ne has longitude</span></span>
<span id="cb61-3"><a href="#cb61-3"></a><span class="co"># as first coordinate and latitude as second (as normal for GIS software)</span></span>
<span id="cb61-4"><a href="#cb61-4"></a><span class="fu">st_axis_order</span>(<span class="at">authority_compliant =</span> <span class="cn">TRUE</span>)</span>
<span id="cb61-5"><a href="#cb61-5"></a>world_ne <span class="sc">%&gt;%</span></span>
<span id="cb61-6"><a href="#cb61-6"></a>  <span class="fu">st_transform</span>(<span class="dv">3035</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-7"><a href="#cb61-7"></a>    <span class="fu">st_transform</span>(</span>
<span id="cb61-8"><a href="#cb61-8"></a>      <span class="co"># have to swap the axis, gives a warning</span></span>
<span id="cb61-9"><a href="#cb61-9"></a>    <span class="at">pipeline =</span> <span class="st">"+proj=pipeline +step +proj=axisswap +order=2,1"</span></span>
<span id="cb61-10"><a href="#cb61-10"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb61-11"><a href="#cb61-11"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb61-12"><a href="#cb61-12"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb61-13"><a href="#cb61-13"></a>  <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-59-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="is-longitude-latitude-solution-ignore-authorities" class="slide level2">
<h2>3035 is longitude, latitude (solution: ignore authorities)</h2>
<ul>
<li class="fragment"><p>Ignore authorities <strong>temporarily</strong> by setting <code>authority_compliant = FALSE</code> in <code>st_axis_order()</code>.</p></li>
<li class="fragment"><p>Then set it back to TRUE after generating map</p></li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="co"># First coordinate interprated as latitude, second as longitude</span></span>
<span id="cb62-2"><a href="#cb62-2"></a><span class="co"># as specified by authorities. But in reality world_ne has longitude</span></span>
<span id="cb62-3"><a href="#cb62-3"></a><span class="co"># as first coordinate and latitude as second (as normal for GIS software)</span></span>
<span id="cb62-4"><a href="#cb62-4"></a><span class="fu">st_axis_order</span>(<span class="at">authority_compliant =</span> <span class="cn">FALSE</span>)</span>
<span id="cb62-5"><a href="#cb62-5"></a>world_ne_3035 <span class="ot">&lt;-</span> world_ne <span class="sc">%&gt;%</span></span>
<span id="cb62-6"><a href="#cb62-6"></a>  <span class="fu">st_transform</span>(<span class="dv">3035</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-7"><a href="#cb62-7"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb62-8"><a href="#cb62-8"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb62-9"><a href="#cb62-9"></a>  <span class="fu">coord_sf</span>(<span class="at">crs =</span> <span class="dv">3035</span>)</span>
<span id="cb62-10"><a href="#cb62-10"></a></span>
<span id="cb62-11"><a href="#cb62-11"></a><span class="fu">st_axis_order</span>(<span class="at">authority_compliant =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:60%;">
<div class="cell">

</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a> <span class="fu">st_axis_order</span>(<span class="at">authority_compliant =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
<section id="conclusion-ggplot" class="slide level2">
<h2>Conclusion ggplot</h2>
<ul>
<li class="fragment"><code>ggplot()</code> does not seem to respect authorities</li>
<li class="fragment">What about <code>tmap</code> , <code>tm_shape</code>, <code>tm_fill</code> etc.?</li>
</ul>
</section>
<section id="with-tmap" class="slide level2">
<h2>3035 with tmap</h2>
<ul>
<li class="fragment">Again an untraditional map</li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="fu">st_axis_order</span>(</span>
<span id="cb64-2"><a href="#cb64-2"></a>  <span class="at">authority_compliant =</span> <span class="cn">TRUE</span></span>
<span id="cb64-3"><a href="#cb64-3"></a>  )</span>
<span id="cb64-4"><a href="#cb64-4"></a></span>
<span id="cb64-5"><a href="#cb64-5"></a>world_ne <span class="sc">%&gt;%</span></span>
<span id="cb64-6"><a href="#cb64-6"></a>  <span class="fu">st_transform</span>(<span class="dv">3035</span>) <span class="sc">%&gt;%</span></span>
<span id="cb64-7"><a href="#cb64-7"></a>  <span class="fu">tm_shape</span>() <span class="sc">+</span></span>
<span id="cb64-8"><a href="#cb64-8"></a>  <span class="fu">tm_fill</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-64-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="with-tmap-swap-axis" class="slide level2">
<h2>3035 with tmap (swap axis)</h2>
<ul>
<li class="fragment"><p><code>authority_compliant = TRUE</code></p></li>
<li class="fragment"><p><code>st_transform(pipeline = "+proj=pipeline +step +proj=axisswap +order=2,1")</code></p></li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="fu">st_axis_order</span>(<span class="at">authority_compliant =</span> <span class="cn">TRUE</span>)</span>
<span id="cb65-2"><a href="#cb65-2"></a>world_ne <span class="sc">%&gt;%</span></span>
<span id="cb65-3"><a href="#cb65-3"></a>  <span class="fu">st_transform</span>(<span class="dv">3035</span>) <span class="sc">%&gt;%</span></span>
<span id="cb65-4"><a href="#cb65-4"></a>  <span class="fu">st_transform</span>(</span>
<span id="cb65-5"><a href="#cb65-5"></a>    <span class="at">pipeline =</span> <span class="st">"+proj=pipeline +step +proj=axisswap +order=2,1"</span></span>
<span id="cb65-6"><a href="#cb65-6"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb65-7"><a href="#cb65-7"></a>  <span class="fu">tm_shape</span>() <span class="sc">+</span></span>
<span id="cb65-8"><a href="#cb65-8"></a>  <span class="fu">tm_fill</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-66-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="with-tmap-ignore-authorities" class="slide level2">
<h2>3035 with tmap (ignore authorities)</h2>
<ul>
<li class="fragment">Temporarily ignore authorities</li>
</ul>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">st_axis_order</span>(<span class="at">authority_compliant =</span> <span class="cn">FALSE</span>)</span>
<span id="cb66-2"><a href="#cb66-2"></a>world_ne <span class="sc">%&gt;%</span></span>
<span id="cb66-3"><a href="#cb66-3"></a>  <span class="fu">st_transform</span>(<span class="dv">3035</span>) <span class="sc">%&gt;%</span></span>
<span id="cb66-4"><a href="#cb66-4"></a>  <span class="fu">tm_shape</span>() <span class="sc">+</span></span>
<span id="cb66-5"><a href="#cb66-5"></a>  <span class="fu">tm_fill</span>()</span>
<span id="cb66-6"><a href="#cb66-6"></a></span>
<span id="cb66-7"><a href="#cb66-7"></a><span class="fu">st_axis_order</span>(<span class="at">authority_compliant =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-68-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="conclusion-1" class="slide level2">
<h2>Conclusion</h2>
<ul>
<li class="fragment"><code>plot()</code> (i.e.&nbsp;<code>plot.sf()</code>) <strong>respects</strong> authorities</li>
<li class="fragment">With <code>tmap</code> and <code>ggplot</code> we have to do
<ul>
<li class="fragment"><p><code>st_transform(pipeline = "+proj=pipeline +step +proj=axisswap +order=2,1")</code></p></li>
<li class="fragment"><p>or</p></li>
<li class="fragment"><p>set <code>st_axis_order(authority_compliant = FALSE)</code> temporarily.</p></li>
</ul></li>
<li class="fragment">Note that this might change when <code>tmap</code> and <code>ggplot</code> get updated.</li>
</ul>
</section>
<section id="a-gardian-world-view--" class="slide level2">
<h2>A Gardian world view ;-)</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>world_ne <span class="sc">%&gt;%</span></span>
<span id="cb67-2"><a href="#cb67-2"></a>  <span class="fu">select</span>(continent) <span class="sc">%&gt;%</span></span>
<span id="cb67-3"><a href="#cb67-3"></a>  <span class="co"># centre of map is Gard Haugesund</span></span>
<span id="cb67-4"><a href="#cb67-4"></a>  <span class="fu">st_transform</span>(</span>
<span id="cb67-5"><a href="#cb67-5"></a>    <span class="at">crs =</span> <span class="st">"+proj=laea +x_0=0 +y_0=0 +lon_0=5.265393 +lat_0=59.425333"</span></span>
<span id="cb67-6"><a href="#cb67-6"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb67-7"><a href="#cb67-7"></a>  <span class="fu">plot</span>(<span class="at">key.pos =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="a-gardian-world-view---1" class="slide level2">
<h2>A Gardian world view ;-)</h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-70-1.png" width="960" class="r-stretch"></section>
<section id="projections-not-supporten-in-st_transpose" class="slide level2">
<h2>Projections not supporten in <code>st_transpose</code></h2>
<ul>
<li class="fragment"><code>st_transform()</code> uses GDAL lib</li>
<li class="fragment"><code>lwgeom::st_transform_proj()</code> uses PROJ API directly</li>
</ul>
</section>
<section id="winkel-tripel-with-st_transform_proj" class="slide level2">
<h2>Winkel tripel with <code>st_transform_proj()</code></h2>
<ul>
<li class="fragment">Winkel triple projection not supported by <code>st_transform()</code></li>
<li class="fragment">We have to use <code>st_transform_proj()</code> and do a little more work “by hand”</li>
<li class="fragment">The following is inspired by <a href="https://wilkelab.org/practicalgg/articles/Winkel_tripel.html">wilkelab</a></li>
<li class="fragment">We use our map from <code>rnaturalearth</code>. Wilke gets his map with <code>getMap()</code> from the <code>rworldmap</code> package</li>
<li class="fragment">We follow the authorities and have to get the axis correct first</li>
</ul>
</section>
<section id="getting-the-axis-in-the-right-order" class="slide level2">
<h2>Getting the axis in the right order</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="fu">st_axis_order</span>(<span class="at">authority_compliant =</span> <span class="cn">TRUE</span>)</span>
<span id="cb68-2"><a href="#cb68-2"></a>world_ne <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="st">"medium"</span>, <span class="at">returnclass =</span> <span class="st">"sf"</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb68-3"><a href="#cb68-3"></a>  <span class="fu">select</span>(continent) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li class="fragment">Define our projection, and transform our map to this projection</li>
<li class="fragment">It seems that <code>ne_countries()</code> get the axis correct when we set <code>authority_compliant = TRUE</code></li>
<li class="fragment"><code>axisswap</code> not required</li>
</ul>
<div class="fragment">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>crs_wintri <span class="ot">&lt;-</span> <span class="st">"+proj=wintri +datum=WGS84 +no_defs +over"</span></span>
<span id="cb69-2"><a href="#cb69-2"></a>world_wintri <span class="ot">&lt;-</span> world_ne <span class="sc">%&gt;%</span> </span>
<span id="cb69-3"><a href="#cb69-3"></a><span class="co">#  st_transform(4326) %&gt;%</span></span>
<span id="cb69-4"><a href="#cb69-4"></a><span class="co">#  st_transform(pipeline ="+proj=pipeline +step +proj=axisswap +order=2,1") %&gt;% </span></span>
<span id="cb69-5"><a href="#cb69-5"></a>  <span class="fu">st_transform_proj</span>(<span class="at">crs =</span> crs_wintri)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section>
<section id="make-graticule" class="slide level2">
<h2>make graticule</h2>
<ul>
<li class="fragment">Since we are using <code>st_transform_proj()</code> we have to make our own graticule and set the right projection on it (Winkel triple)</li>
</ul>
<div class="fragment">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>grat_wintri <span class="ot">&lt;-</span> </span>
<span id="cb70-2"><a href="#cb70-2"></a>  <span class="fu">st_graticule</span>(<span class="at">lat =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">89.9</span>, <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">80</span>, <span class="dv">80</span>, <span class="dv">20</span>), <span class="fl">89.9</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb70-3"><a href="#cb70-3"></a>  <span class="fu">st_transform_proj</span>(<span class="at">crs =</span> crs_wintri) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</section>
<section id="plot-graticule" class="slide level2">
<h2>plot graticule</h2>
<div class="columns">
<div class="column" style="width:35%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>grat_wintri <span class="sc">%&gt;%</span> </span>
<span id="cb71-2"><a href="#cb71-2"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb71-3"><a href="#cb71-3"></a>  <span class="fu">geom_sf</span>(</span>
<span id="cb71-4"><a href="#cb71-4"></a>    <span class="at">color =</span> <span class="st">"gray30"</span>, </span>
<span id="cb71-5"><a href="#cb71-5"></a>    <span class="at">size =</span> <span class="fl">0.25</span><span class="sc">/</span>.pt</span>
<span id="cb71-6"><a href="#cb71-6"></a>    ) <span class="sc">+</span> </span>
<span id="cb71-7"><a href="#cb71-7"></a>  <span class="fu">coord_sf</span>(<span class="at">datum =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:65%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-75-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="first-shot-at-a-map" class="slide level2">
<h2>First shot at a map</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb72-2"><a href="#cb72-2"></a>  <span class="fu">geom_sf</span>(</span>
<span id="cb72-3"><a href="#cb72-3"></a>    <span class="at">data =</span> grat_wintri, </span>
<span id="cb72-4"><a href="#cb72-4"></a>    <span class="at">color =</span> <span class="st">"gray30"</span>, </span>
<span id="cb72-5"><a href="#cb72-5"></a>    <span class="at">size =</span> <span class="fl">0.25</span><span class="sc">/</span>.pt) <span class="sc">+</span> </span>
<span id="cb72-6"><a href="#cb72-6"></a>  <span class="fu">geom_sf</span>(</span>
<span id="cb72-7"><a href="#cb72-7"></a>    <span class="at">data =</span> world_wintri, </span>
<span id="cb72-8"><a href="#cb72-8"></a>    <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb72-9"><a href="#cb72-9"></a>    <span class="at">size =</span> <span class="fl">0.5</span><span class="sc">/</span>.pt) <span class="sc">+</span></span>
<span id="cb72-10"><a href="#cb72-10"></a>  <span class="fu">coord_sf</span>(<span class="at">datum =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-77-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="improve-map-with-blue-background" class="slide level2">
<h2>Improve map with blue background</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="co"># vectors of latitudes and longitudes </span></span>
<span id="cb73-2"><a href="#cb73-2"></a><span class="co"># that go once around the </span></span>
<span id="cb73-3"><a href="#cb73-3"></a><span class="co"># globe in 1-degree steps</span></span>
<span id="cb73-4"><a href="#cb73-4"></a>lats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">90</span><span class="sc">:-</span><span class="dv">90</span>, <span class="sc">-</span><span class="dv">90</span><span class="sc">:</span><span class="dv">90</span>, <span class="dv">90</span>)</span>
<span id="cb73-5"><a href="#cb73-5"></a>longs <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb73-6"><a href="#cb73-6"></a>  <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">180</span>, <span class="sc">-</span><span class="dv">180</span>), <span class="at">each =</span> <span class="dv">181</span>), </span>
<span id="cb73-7"><a href="#cb73-7"></a>  <span class="dv">180</span></span>
<span id="cb73-8"><a href="#cb73-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="co"># turn into correctly projected sf collection</span></span>
<span id="cb74-2"><a href="#cb74-2"></a>wintri_outline <span class="ot">&lt;-</span> </span>
<span id="cb74-3"><a href="#cb74-3"></a>  <span class="fu">list</span>(<span class="fu">cbind</span>(longs, lats)) <span class="sc">%&gt;%</span></span>
<span id="cb74-4"><a href="#cb74-4"></a>  <span class="fu">st_polygon</span>() <span class="sc">%&gt;%</span></span>
<span id="cb74-5"><a href="#cb74-5"></a>  <span class="fu">st_sfc</span>( <span class="co"># create sf geometry list column</span></span>
<span id="cb74-6"><a href="#cb74-6"></a>    <span class="at">crs =</span> <span class="st">"+proj=longlat +ellps=WGS84 </span></span>
<span id="cb74-7"><a href="#cb74-7"></a><span class="st">    +datum=WGS84 +no_defs"</span></span>
<span id="cb74-8"><a href="#cb74-8"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb74-9"><a href="#cb74-9"></a>  <span class="fu">st_sf</span>() <span class="sc">%&gt;%</span></span>
<span id="cb74-10"><a href="#cb74-10"></a>  <span class="co"># transform to Winkel tripel</span></span>
<span id="cb74-11"><a href="#cb74-11"></a>  <span class="fu">st_transform_proj</span>(<span class="at">crs =</span> crs_wintri) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb75-2"><a href="#cb75-2"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> wintri_outline, </span>
<span id="cb75-3"><a href="#cb75-3"></a>          <span class="at">fill =</span> <span class="st">"#56B4E950"</span>, </span>
<span id="cb75-4"><a href="#cb75-4"></a>          <span class="at">color =</span> <span class="st">"grey30"</span>, </span>
<span id="cb75-5"><a href="#cb75-5"></a>          <span class="at">size =</span> <span class="fl">0.5</span><span class="sc">/</span>.pt) <span class="sc">+</span></span>
<span id="cb75-6"><a href="#cb75-6"></a>  <span class="fu">coord_sf</span>(<span class="at">datum =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">

</div>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-83-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="the-final-winkel-triple-map.-code" class="slide level2">
<h2>The final Winkel triple map. CODE</h2>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb76-2"><a href="#cb76-2"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> wintri_outline, </span>
<span id="cb76-3"><a href="#cb76-3"></a>          <span class="at">fill =</span> <span class="st">"#56B4E950"</span>, </span>
<span id="cb76-4"><a href="#cb76-4"></a>          <span class="at">color =</span> <span class="st">"grey30"</span>, </span>
<span id="cb76-5"><a href="#cb76-5"></a>          <span class="at">size =</span> <span class="fl">0.5</span><span class="sc">/</span>.pt) <span class="sc">+</span></span>
<span id="cb76-6"><a href="#cb76-6"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> grat_wintri, <span class="at">color =</span> <span class="st">"gray30"</span>, <span class="at">size =</span> <span class="fl">0.25</span><span class="sc">/</span>.pt) <span class="sc">+</span> </span>
<span id="cb76-7"><a href="#cb76-7"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> world_wintri, </span>
<span id="cb76-8"><a href="#cb76-8"></a>          <span class="fu">aes</span>(<span class="at">fill =</span> continent), </span>
<span id="cb76-9"><a href="#cb76-9"></a>          <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb76-10"><a href="#cb76-10"></a>          <span class="at">size =</span> <span class="fl">0.5</span><span class="sc">/</span>.pt) <span class="sc">+</span></span>
<span id="cb76-11"><a href="#cb76-11"></a>  <span class="fu">coord_sf</span>(<span class="at">datum =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="the-final-winkel-triple-map.-plot" class="slide level2">
<h2>The final Winkel triple map. PLOT</h2>
<div class="cell">

</div>
</section>
<section id="cran-mirrors" class="slide level2">
<h2>Cran mirrors</h2>
<div class="cell" data-hash="index_cache/revealjs/unnamed-chunk-86_cac90d4fde5d075f780be5f2682b079e">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>Mirrors <span class="ot">&lt;-</span> <span class="fu">getCRANmirrors</span>(<span class="at">all =</span> <span class="cn">FALSE</span>, <span class="at">local.only =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb77-2"><a href="#cb77-2"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb77-3"><a href="#cb77-3"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(City, <span class="at">pattern =</span> <span class="st">"0-Cloud.*"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb77-4"><a href="#cb77-4"></a>  <span class="fu">pull</span>(City) <span class="sc">%&gt;%</span> </span>
<span id="cb77-5"><a href="#cb77-5"></a>  <span class="fu">str_conv</span>(<span class="st">"UTF-8"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb77-6"><a href="#cb77-6"></a>  <span class="fu">geocode_OSM</span>(<span class="at">as.sf =</span> <span class="cn">TRUE</span>, <span class="at">geometry =</span> <span class="st">'point'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb77-7"><a href="#cb77-7"></a>  <span class="fu">st_transform_proj</span>(<span class="at">crs =</span> crs_wintri) <span class="sc">%&gt;%</span></span>
<span id="cb77-8"><a href="#cb77-8"></a>  <span class="fu">transmute</span>(<span class="at">city =</span> query) <span class="sc">%&gt;%</span> </span>
<span id="cb77-9"><a href="#cb77-9"></a>  <span class="fu">group_by</span>(city) <span class="sc">%&gt;%</span> </span>
<span id="cb77-10"><a href="#cb77-10"></a>  <span class="fu">summarise</span>(<span class="at">mirrors =</span> <span class="fu">as.character</span>(<span class="fu">n</span>())) <span class="sc">%&gt;%</span> </span>
<span id="cb77-11"><a href="#cb77-11"></a>  <span class="fu">mutate</span>(</span>
<span id="cb77-12"><a href="#cb77-12"></a>    <span class="at">mirrors =</span> <span class="fu">factor</span>(mirrors, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>))</span>
<span id="cb77-13"><a href="#cb77-13"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a>final_winkel_world <span class="sc">+</span></span>
<span id="cb78-2"><a href="#cb78-2"></a>  <span class="co"># add mirrors geom</span></span>
<span id="cb78-3"><a href="#cb78-3"></a>  <span class="fu">geom_sf</span>(</span>
<span id="cb78-4"><a href="#cb78-4"></a>    <span class="at">data =</span> Mirrors, </span>
<span id="cb78-5"><a href="#cb78-5"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb78-6"><a href="#cb78-6"></a>      <span class="at">shape =</span> mirrors</span>
<span id="cb78-7"><a href="#cb78-7"></a>      )</span>
<span id="cb78-8"><a href="#cb78-8"></a>    )  <span class="sc">+</span></span>
<span id="cb78-9"><a href="#cb78-9"></a>  <span class="co"># perhaps use geom_text_repel to name the cities with more than 1 mirror</span></span>
<span id="cb78-10"><a href="#cb78-10"></a>  <span class="fu">ggtitle</span>(<span class="st">"Location of CRAN mirrors"</span>) <span class="sc">+</span></span>
<span id="cb78-11"><a href="#cb78-11"></a>  <span class="fu">coord_sf</span>(<span class="at">datum =</span> <span class="cn">NULL</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="cran-mirrors-plot" class="slide level2">
<h2>Cran mirrors plot</h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-88-1.png" width="960" class="r-stretch"></section>
<section id="sp-versus-sf" class="slide level2">
<h2>sp versus sf</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>sp</p>
<ul>
<li class="fragment"><p>Long history (2004-)</p></li>
<li class="fragment"><p>Many packages in the sp* system (ca. 450)</p></li>
<li class="fragment"><p>Works with rgdal and rgeos</p></li>
<li class="fragment"><p>Uses S4 objects with slots</p></li>
<li class="fragment"><p>Quite complex structure</p></li>
<li class="fragment"><p>Does not integrate very well with the Tidyverse (and other tools)</p></li>
<li class="fragment"><p>Does not implement <strong>Simple Features</strong></p></li>
</ul>
</div><div class="column" style="width:50%;">
<p>sf</p>
<ul>
<li class="fragment"><p>“The new sp”</p></li>
<li class="fragment"><p>Support <strong>Simple Features</strong></p></li>
<li class="fragment"><p>Geographical information in <strong>list column</strong></p></li>
<li class="fragment"><p>Integrates nicely with the Tidyverse</p></li>
<li class="fragment"><p>The future for geographical information i R</p></li>
<li class="fragment"><p>Work in progress (autumn 22: v 1.0-8)</p></li>
</ul>
</div>
</div>
</section>
<section id="what-is-simple-features" class="slide level2">
<h2>What is Simple features?</h2>
</section>
<section id="section-2" class="slide level2">
<h2></h2>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>

<div class="footer footer-default">
<p><a href="../../../index.html">MSB205</a></p>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-R-mapview" class="csl-entry" role="doc-biblioentry">
Appelhans, Tim, Florian Detsch, Christoph Reudenbach, and Stefan Woellauer. 2022. <em>Mapview: Interactive Viewing of Spatial Data in r</em>. <a href="https://github.com/r-spatial/mapview">https://github.com/r-spatial/mapview</a>.
</div>
<div id="ref-R-rgdal" class="csl-entry" role="doc-biblioentry">
Bivand, Roger, Tim Keitt, and Barry Rowlingson. 2022. <em>Rgdal: Bindings for the Geospatial Data Abstraction Library</em>. <a href="https://CRAN.R-project.org/package=rgdal">https://CRAN.R-project.org/package=rgdal</a>.
</div>
<div id="ref-R-spData" class="csl-entry" role="doc-biblioentry">
Bivand, Roger, Jakub Nowosad, and Robin Lovelace. 2021. <em>spData: Datasets for Spatial Analysis</em>. <a href="https://nowosad.github.io/spData/">https://nowosad.github.io/spData/</a>.
</div>
<div id="ref-R-rgeos" class="csl-entry" role="doc-biblioentry">
Bivand, Roger, and Colin Rundel. 2021. <em>Rgeos: Interface to Geometry Engine - Open Source (GEOS)</em>. <a href="https://CRAN.R-project.org/package=rgeos">https://CRAN.R-project.org/package=rgeos</a>.
</div>
<div id="ref-R-maps" class="csl-entry" role="doc-biblioentry">
Brownrigg, Ray. 2021. <em>Maps: Draw Geographical Maps</em>. <a href="https://CRAN.R-project.org/package=maps">https://CRAN.R-project.org/package=maps</a>.
</div>
<div id="ref-R-mapproj" class="csl-entry" role="doc-biblioentry">
McIlroy, Doug, Ray Brownrigg, Thomas P Minka, and Roger Bivand. 2022. <em>Mapproj: Map Projections</em>. <a href="https://CRAN.R-project.org/package=mapproj">https://CRAN.R-project.org/package=mapproj</a>.
</div>
<div id="ref-sf2018" class="csl-entry" role="doc-biblioentry">
Pebesma, Edzer. 2018. <span>“<span class="nocase">Simple Features for R: Standardized Support for Spatial Vector Data</span>.”</span> <em><span>The R Journal</span></em> 10 (1): 439–46. <a href="https://doi.org/10.32614/RJ-2018-009">https://doi.org/10.32614/RJ-2018-009</a>.
</div>
<div id="ref-R-sf" class="csl-entry" role="doc-biblioentry">
———. 2022a. <em>Sf: Simple Features for r</em>. <a href="https://CRAN.R-project.org/package=sf">https://CRAN.R-project.org/package=sf</a>.
</div>
<div id="ref-R-stars" class="csl-entry" role="doc-biblioentry">
———. 2022b. <em>Stars: Spatiotemporal Arrays, Raster and Vector Data Cubes</em>. <a href="https://CRAN.R-project.org/package=stars">https://CRAN.R-project.org/package=stars</a>.
</div>
<div id="ref-units2016" class="csl-entry" role="doc-biblioentry">
Pebesma, Edzer, Thomas Mailund, and James Hiebert. 2016. <span>“Measurement Units in <span>R</span>.”</span> <em>R Journal</em> 8 (2): 486–94. <a href="https://doi.org/10.32614/RJ-2016-061">https://doi.org/10.32614/RJ-2016-061</a>.
</div>
<div id="ref-R-units" class="csl-entry" role="doc-biblioentry">
Pebesma, Edzer, Thomas Mailund, Tomasz Kalinowski, and Iñaki Ucar. 2022. <em>Units: Measurement Units for r Vectors</em>. <a href="https://github.com/r-quantities/units/">https://github.com/r-quantities/units/</a>.
</div>
<div id="ref-plotly2020" class="csl-entry" role="doc-biblioentry">
Sievert, Carson. 2020. <em>Interactive Web-Based Data Visualization with r, Plotly, and Shiny</em>. Chapman; Hall/CRC. <a href="https://plotly-r.com">https://plotly-r.com</a>.
</div>
<div id="ref-R-plotly" class="csl-entry" role="doc-biblioentry">
Sievert, Carson, Chris Parmer, Toby Hocking, Scott Chamberlain, Karthik Ram, Marianne Corvellec, and Pedro Despouy. 2021. <em>Plotly: Create Interactive Web Graphics via Plotly.js</em>. <a href="https://CRAN.R-project.org/package=plotly">https://CRAN.R-project.org/package=plotly</a>.
</div>
<div id="ref-R-ggrepel" class="csl-entry" role="doc-biblioentry">
Slowikowski, Kamil. 2021. <em>Ggrepel: Automatically Position Non-Overlapping Text Labels with Ggplot2</em>. <a href="https://github.com/slowkow/ggrepel">https://github.com/slowkow/ggrepel</a>.
</div>
<div id="ref-R-rnaturalearth" class="csl-entry" role="doc-biblioentry">
South, Andy. 2017. <em>Rnaturalearth: World Map Data from Natural Earth</em>. <a href="https://github.com/ropenscilabs/rnaturalearth">https://github.com/ropenscilabs/rnaturalearth</a>.
</div>
<div id="ref-tmap2018" class="csl-entry" role="doc-biblioentry">
Tennekes, Martijn. 2018. <span>“<span class="nocase">tmap</span>: Thematic Maps in <span>R</span>.”</span> <em>Journal of Statistical Software</em> 84 (6): 1–39. <a href="https://doi.org/10.18637/jss.v084.i06">https://doi.org/10.18637/jss.v084.i06</a>.
</div>
<div id="ref-R-tmaptools" class="csl-entry" role="doc-biblioentry">
———. 2021. <em>Tmaptools: Thematic Map Tools</em>. <a href="https://github.com/mtennekes/tmaptools">https://github.com/mtennekes/tmaptools</a>.
</div>
<div id="ref-R-tmap" class="csl-entry" role="doc-biblioentry">
———. 2022. <em>Tmap: Thematic Maps</em>. <a href="https://github.com/r-tmap/tmap">https://github.com/r-tmap/tmap</a>.
</div>
<div id="ref-R-rmapshaper" class="csl-entry" role="doc-biblioentry">
Teucher, Andy, and Kenton Russell. 2022. <em>Rmapshaper: Client for Mapshaper for Geospatial Operations</em>. <a href="https://github.com/ateucher/rmapshaper">https://github.com/ateucher/rmapshaper</a>.
</div>
<div id="ref-ggplot22016" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley. 2016. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
<div id="ref-R-tidyverse" class="csl-entry" role="doc-biblioentry">
———. 2022. <em>Tidyverse: Easily Install and Load the Tidyverse</em>. <a href="https://CRAN.R-project.org/package=tidyverse">https://CRAN.R-project.org/package=tidyverse</a>.
</div>
<div id="ref-tidyverse2019" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-R-ggplot2" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, Winston Chang, Lionel Henry, Thomas Lin Pedersen, Kohske Takahashi, Claus Wilke, Kara Woo, Hiroaki Yutani, and Dewey Dunnington. 2022. <em>Ggplot2: Create Elegant Data Visualisations Using the Grammar of Graphics</em>. <a href="https://CRAN.R-project.org/package=ggplot2">https://CRAN.R-project.org/package=ggplot2</a>.
</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>